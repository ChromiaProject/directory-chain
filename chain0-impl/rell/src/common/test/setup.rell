@test module;

import o: ^.ops;
import c: ^.util.constants;
import ^^^.model.*;

function initial_provider() = provider @ { c.initial_provider.pub };
function initial_node() = node @ { c.test_node.pubkey };

function setup_module(provider_quota_max_containers: integer = 1, anchoring_config: map<text, gtv> = map<text, gtv>()) {
    rell.test.tx().op(
        o.initialize_test_module(
            c.initial_provider.pub,
            c.test_node,
            anchoring_config = anchoring_config,
            provider_quota_max_containers = provider_quota_max_containers
        )
    ).run();
}
