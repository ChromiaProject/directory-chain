# Economy Chain operations

## Operations

| Name                                     | Arguments                                                                                                                                                                                                                          | Description                                                                                                                                                                                                                                              |
|------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| 
| init                                     | provider_pubkey: pubkey<br>economy_chain_config                                                                                                                                                                                    | Initialize the economy chain using the provided configuration.                                                                                                                                                                                           |
| register_account                         | user_account_pubkey: pubkey                                                                                                                                                                                                        | Will create a new FT4 account associated with the user. If the user already have an account the operation will fail.                                                                                                                                     |
| register_provider_account                | provider_pubkey: pubkey                                                                                                                                                                                                            | Will create a new FT4 account associated with the provider. If the provider already have an account the operation will fail.                                                                                                                             |
| create_container                         | provider_pubkey: pubkey<br>container_units: integer<br>duration_weeks: integer<br>extra_storage_gib: integer<br>cluster_name: text<br>auto_renew: boolean                                                                          | Request creation of a container. If enough tokens are available on the users account an ICMF message will be sent to DC for creation of the container. A lease is setup for the request amount of weeks and the cost is deducted from the users account. |
| upgrade_container                        | container_name: text<br>upgraded_container_units: integer<br>upgraded_extra_storage_gib: integer<br>upgraded_cluster_name: text                                                                                                    | If possible upgrade the container to requested specifications.                                                                                                                                                                                           |
| renew_container                          | container_name: text<br>duration_weeks: integer                                                                                                                                                                                    | Renew container lease.                                                                                                                                                                                                                                   |
| auto_renew_container                     | container_name: text                                                                                                                                                                                                               | Turn on auto-renewal of lease for container.                                                                                                                                                                                                             |
| cancel_renew_container                   | container_name: text                                                                                                                                                                                                               | Cancel auto-renewal of lease.                                                                                                                                                                                                                            |
| transfer_to_pool                         | amount: big_integer                                                                                                                                                                                                                | Transfer tokens to the common pool account.                                                                                                                                                                                                              |
| update_system_provider_economy_constants | total_cost_system_providers: integer?<br>system_provider_fee_share: decimal?<br>system_provider_risk_share: decimal?                                                                                                               | Update system provider economy constants used to calculate rewards.                                                                                                                                                                                      |
| update_chr_per_usd                       | chr_per_usd: decimal?                                                                                                                                                                                                              | Update chr per usd constant.                                                                                                                                                                                                                             |
| update_economy_constants                 | min_lease_time_weeks: integer?<br>max_lease_time_weeks: integer?<br>staking_reward_fee_share: decimal?<br>chromia_foundation_fee_share: decimal?<br>resource_pool_margin_fee_share: decimal?<br>dapp_provider_risk_share: decimal? | Update economy constant.                                                                                                                                                                                                                                 |
| create_tag                               | name: text<br>scu_price: integer<br>extra_storage_price: integer                                                                                                                                                                   | Create a tag.                                                                                                                                                                                                                                            |
| update_tag                               | name: text<br>scu_price: integer<br>extra_storage_price: integer?                                                                                                                                                                  | Update a tag.                                                                                                                                                                                                                                            |
| remove_tag                               | name: text                                                                                                                                                                                                                         | Remove a tag.                                                                                                                                                                                                                                            |
| create_cluster                           | name: text<br>governor_voter_set_name: text<br>voter_set_name: text<br>cluster_units: integer<br>extra_storage: integer<br>tag_name: text                                                                                          | Creates a pending_cluster and sends a message to directory-chain to create a cluster.                                                                                                                                                                    |
| change_cluster_tag                       | cluster_name: text<br>tag_name: text                                                                                                                                                                                               | Change tag of a cluster.                                                                                                                                                                                                                                 |
| add_bridge_lease                         | container_name: text<br>blockchain_rid: byte_array<br>evm_network_id: integer<br>validator_contract: text<br>bridge_contract: text<br>initial_signers: list<byte_array><br>anomaly_detection: boolean                              | Create bridge lease.                                                                                                                                                                                                                                     |
| update_bridge_lease                      | blockchain_rid: byte_array<br>evm_network_id: integer<br>updated_validator_contract: text?<br>updated_bridge_contract: text?<br>updated_signers: list<byte_array>?<br>anomaly_detection: boolean?                                  | Update bridge lease.                                                                                                                                                                                                                                     |
| remove_bridge_lease                      | blockchain_rid: byte_array, evm_network_id: integer                                                                                                                                                                                | Remove bridge lease.                                                                                                                                                                                                                                     |

## Arguments

| Name                           | Type             | Description                                                                                    |
|--------------------------------|------------------|------------------------------------------------------------------------------------------------|
| provider_pubkey                | pubkey           | Pubkey of a provider.                                                                          |
| user_account_pubkey            | pubkey           | Pubkey of a user account.                                                                      |
| container_units                | integer          | Number of container_units.                                                                     |
| duration_weeks                 | integer          | Lease duration in weeks.                                                                       |
| extra_storage_gib              | integer          | Extra storage to associate with a container in GiB.                                            |
| cluster_name                   | text             | Name of cluster to use.                                                                        |
| auto_renew                     | boolean          | Should a lease be auto-renewed or not.                                                         |
| upgraded_extra_storage_gib     | integer          | Extra storage to associate with a container in GiB.                                            |
| upgraded_cluster_name          | text             | Name of cluster to use.                                                                        |
| amount                         | big_integer      | An amount of tokens.                                                                           |
| total_cost_system_providers    | integer          | Amount of tokens representing the total cost to reward a system provider for providing a node. |
| system_provider_fee_share      | decimal          | System provider fee share of a reward.                                                         |
| system_provider_risk_share     | decimal          | System provider risk share of a reward.                                                        |
| chr_per_usd                    | decimal          | Chromia per usd ratio.                                                                         |
| min_lease_time_weeks           | integer          | Minimum amount of weeks to lease a container.                                                  |
| max_lease_time_weeks           | integer          | Maximum amount of weeks to lease a container.                                                  |
| staking_reward_fee_share       | decimal          | Staking reward fee share.                                                                      |
| chromia_foundation_fee_share   | decimal          | Chromia foundation fee share of a reward.                                                      |
| resource_pool_margin_fee_share | decimal          | Resource pool margin fee share of a reward.                                                    |
| dapp_provider_risk_share       | decimal          | Dapp provider risk share of a reward.                                                          |
| scu_price                      | integer          | The price per day of a standard container unit                                                 |
| extra_storage_price            | integer          | The price per day for extra storage                                                            |
| governor_voter_set_name        | text             | The names of the governor voters                                                               |
| cluster_units                  | text             | How many container_units does the cluster support                                              |
| evm_network_id                 | integer          | The EVM network id.                                                                            |
| validator_contract             | text             | The validator contract address.                                                                |
| updated_validator_contract     | text             | The validator contract address to be updated with.                                             |
| bridge_contract                | text             | The bridge contract address.                                                                   |
| initial_signers                | list<byte_array> | Bridge lease initial signers.                                                                  |
| updated_validator_contract     | list<byte_array> | Bridge lease signers to be updated with.                                                       |
| anomaly_detection              | boolean          | Does bridge lease has an anomaly detector.                                                     |